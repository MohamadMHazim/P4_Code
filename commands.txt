-Loading the programming environment for the Tofino model: set_env.sh lab2 model
-Configure environment variables: source config_env.sh
-Compile: ~/tools/p4_build.sh --with-p4c=bf-p4c p4src/basic.p4
-Verify the output files for the program basic are generated: ls $SDE/build/p4-build/basic
-The binary file that corresponds to the compiled data plane is located under $SDE/build/p4-build/<program_name>/tofino/<program_name>/pipe/. Use the command below to display the contents of this directory: ls $SDE/build/p4-build/basic/tofino/basic/pipe/
-Issue the command below to start the Tofino model (in terminal): ./run_tofino_model.sh -f ports.json -p basic
-Open new tab, then: ssh root@172.168.1.1
-Issue the following command to run the switch daemon with the P4 program basic: ./run_switchd.sh -p basic
-In VS Code terminal, push the table entries to the Tofino model switch by typing the following command. The table entries indicate the port that received packets must take to reach the right destination: Page 22
$SDE/./run_bfshell.sh --no-status-srv -b /root/P4_labs/lab2/bfrt_python/setup.py
-Issue the following command to start listening for incoming packets on the interface facing PC1 through the Tofino model switch (i.e., eth0). When prompted for a password, type password: sudo ./recv.py eth0
-In the new Linux terminal, issue the command below to send a packet to PC2 via the Tofino model switch. When prompted for a password, type password.: sudo ./send.py 10.0.0.2 eth0 HelloWorld

--------------------------------------
run read_registers: /home/ubuntu/open-p4studio/run_bfshell.sh \
  --no-status-srv \
  -b /home/ubuntu/P4_Code/bfrt_python/read_registers.py

-send tcp packets: sudo hping3 -S -p 80 -i u1000 -I veth0 10.0.0.2

bfrt.basic.pipe.Ingress -> tcp_pkts.get(0)
/home/ubuntu/open-p4studio/install/bin/bfshell -p 9999


VIRTUAL MACHINE:
1️⃣ Create veths
sudo /home/ubuntu/open-p4studio/install/bin/veth_setup.sh 128
2️⃣ Start the Tofino model
sudo /home/ubuntu/open-p4studio/install/bin/tofino-model
3️⃣ Start bf_switchd
sudo /home/ubuntu/open-p4studio/install/bin/bf_switchd \
  --install-dir /home/ubuntu/open-p4studio/install \
  --conf-file /home/ubuntu/P4_Code/p4src/basic.tofino/basic.conf


After compilation:
1️⃣  sudo mkdir -p /home/ubuntu/open-p4studio/install/pipe
sudo cp /home/ubuntu/P4_Code/p4src/basic.tofino/pipe/context.json \
/home/ubuntu/open-p4studio/install/pipe/context.json

sudo cp /home/ubuntu/P4_Code/p4src/basic.tofino/pipe/tofino.bin \
/home/ubuntu/open-p4studio/install/pipe/tofino.bin 

sudo cp /home/ubuntu/P4_Code/p4src/basic.tofino/bfrt.json \
/home/ubuntu/open-p4studio/install/bf-rt.json

2️⃣ create switch conf file => 
sudo /home/ubuntu/open-p4studio/install/bin/p4c-gen-bfrt-conf \
  --testdir /home/ubuntu/P4_Code/p4src/basic.tofino \
  --installdir /home/ubuntu/open-p4studio/install \
  --name basic \
  --device tofino \
  --pipe pipe
